# ç­–ç•¥ç¼–è¾‘å™¨ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

ç­–ç•¥ç¼–è¾‘å™¨æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå…è®¸æ‚¨åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç†è‡ªå®šä¹‰çš„æ¯”ç‰¹å¸äº¤æ˜“ç­–ç•¥ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Pythonä»£ç ç¼–å†™ç­–ç•¥é€»è¾‘ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯å’Œæµ‹è¯•æ‚¨çš„ç­–ç•¥ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ŒæˆåŠŸèƒ½

1. **ç­–ç•¥ç®¡ç†**
   - åˆ›å»ºæ–°ç­–ç•¥
   - ç¼–è¾‘ç°æœ‰ç­–ç•¥
   - åˆ é™¤ç­–ç•¥
   - æŸ¥çœ‹ç­–ç•¥è¯¦æƒ…

2. **ä»£ç ç¼–è¾‘**
   - Pythonä»£ç ç¼–è¾‘å™¨
   - è¯­æ³•éªŒè¯
   - ä»£ç å®‰å…¨æ£€æŸ¥
   - å®æ—¶é”™è¯¯æç¤º

3. **ç­–ç•¥æ¨¡æ¿**
   - SMAäº¤å‰ç­–ç•¥æ¨¡æ¿
   - RSIåŠ¨é‡ç­–ç•¥æ¨¡æ¿
   - æƒ…ç»ªåˆ†æç­–ç•¥æ¨¡æ¿

4. **ç­–ç•¥æµ‹è¯•**
   - ä»£ç éªŒè¯
   - ç­–ç•¥æ‰§è¡Œæµ‹è¯•
   - é”™è¯¯è¯Šæ–­

5. **å‚æ•°é…ç½®**
   - JSONæ ¼å¼å‚æ•°é…ç½®
   - å‚æ•°éªŒè¯
   - é»˜è®¤å€¼è®¾ç½®

## å¦‚ä½•ä½¿ç”¨

### 1. è®¿é—®ç­–ç•¥ç¼–è¾‘å™¨

1. å¯åŠ¨ç³»ç»Ÿï¼š`cd backend && python simple_real_market_api.py`
2. å¯åŠ¨å‰ç«¯ï¼š`cd frontend && npm start`
3. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000
4. å¯¼èˆªåˆ° **è®¾ç½®** â†’ **ç­–ç•¥ç¼–è¾‘** æ ‡ç­¾é¡µ

### 2. åˆ›å»ºæ–°ç­–ç•¥

1. ç‚¹å‡» **æ–°å»ºç­–ç•¥** æŒ‰é’®
2. å¡«å†™ç­–ç•¥åŸºæœ¬ä¿¡æ¯ï¼š
   - ç­–ç•¥åç§°ï¼ˆå¿…å¡«ï¼‰
   - æè¿°
   - ä½œè€…
   - æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰

3. ç¼–å†™ç­–ç•¥ä»£ç ï¼š
   - å¿…é¡»ç»§æ‰¿ `BaseStrategy` ç±»
   - å¿…é¡»å®ç°ä»¥ä¸‹æ–¹æ³•ï¼š
     - `generate_signal()` - ç”Ÿæˆäº¤æ˜“ä¿¡å·
     - `get_parameters()` - è·å–å‚æ•°
     - `get_info()` - è·å–ç­–ç•¥ä¿¡æ¯

4. é…ç½®é»˜è®¤å‚æ•°ï¼ˆJSONæ ¼å¼ï¼‰
5. ç‚¹å‡» **éªŒè¯ä»£ç ** æ£€æŸ¥è¯­æ³•
6. ç‚¹å‡» **ä¿å­˜** åˆ›å»ºç­–ç•¥

### 3. ä½¿ç”¨ç­–ç•¥æ¨¡æ¿

1. åœ¨ç­–ç•¥åˆ—è¡¨ä¸‹æ–¹æ‰¾åˆ° **ç­–ç•¥æ¨¡æ¿** éƒ¨åˆ†
2. ç‚¹å‡»ä»»æ„æ¨¡æ¿åˆ›å»ºåŸºäºæ¨¡æ¿çš„æ–°ç­–ç•¥
3. æ ¹æ®éœ€è¦ä¿®æ”¹ä»£ç å’Œå‚æ•°
4. ä¿å­˜ç­–ç•¥

### 4. ç¼–è¾‘ç°æœ‰ç­–ç•¥

1. åœ¨ç­–ç•¥åˆ—è¡¨ä¸­é€‰æ‹©è¦ç¼–è¾‘çš„ç­–ç•¥
2. ç‚¹å‡»ç­–ç•¥æ—è¾¹çš„ âœï¸ ç¼–è¾‘æŒ‰é’®
3. ä¿®æ”¹ä»£ç æˆ–å‚æ•°
4. éªŒè¯å¹¶ä¿å­˜æ›´æ”¹

### 5. æµ‹è¯•ç­–ç•¥

1. é€‰æ‹©ç­–ç•¥åç‚¹å‡» ğŸ§ª æµ‹è¯•æŒ‰é’®
2. ç³»ç»Ÿä¼šéªŒè¯ç­–ç•¥ä»£ç çš„æ­£ç¡®æ€§
3. æ£€æŸ¥æµ‹è¯•ç»“æœå’Œé”™è¯¯ä¿¡æ¯

## ç­–ç•¥ä»£ç è§„èŒƒ

### åŸºæœ¬ç»“æ„

```python
class MyStrategy(BaseStrategy):
    """æˆ‘çš„è‡ªå®šä¹‰ç­–ç•¥"""
    
    def __init__(self, parameters=None):
        super().__init__(parameters)
        self.name = "æˆ‘çš„ç­–ç•¥"
        self.description = "ç­–ç•¥æè¿°"
        self.version = "1.0.0"
        
        # ä»å‚æ•°ä¸­è·å–é…ç½®
        self.param1 = self.parameters.get('param1', default_value)
    
    def generate_signal(self, market_data, sentiment_score=0.5, technical_indicators=None):
        """
        ç”Ÿæˆäº¤æ˜“ä¿¡å·
        
        Args:
            market_data: å¸‚åœºæ•°æ®åˆ—è¡¨
            sentiment_score: æƒ…ç»ªåˆ†æ•° (0-1)
            technical_indicators: æŠ€æœ¯æŒ‡æ ‡å­—å…¸
            
        Returns:
            dict: {"action": "BUY/SELL/HOLD", "confidence": 0.0-1.0, "reasoning": "åŸå› "}
        """
        # ç­–ç•¥é€»è¾‘
        return {
            "action": "HOLD",
            "confidence": 0.5,
            "reasoning": "ç­–ç•¥é€»è¾‘è¯´æ˜"
        }
    
    def get_parameters(self):
        """è¿”å›ç­–ç•¥å‚æ•°"""
        return self.parameters
    
    def get_info(self):
        """è¿”å›ç­–ç•¥ä¿¡æ¯"""
        return {
            "name": self.name,
            "description": self.description,
            "version": self.version
        }
```

### å…è®¸çš„å¯¼å…¥

- `numpy` (as `np`)
- `pandas` (as `pd`)
- `math`
- `datetime`
- `typing`
- `dataclasses`
- `enum`
- `collections`
- `itertools`
- `functools`

### å®‰å…¨é™åˆ¶

ä»¥ä¸‹åŠŸèƒ½è¢«ç¦æ­¢ä½¿ç”¨ï¼š
- æ–‡ä»¶æ“ä½œ (`open`, `file`)
- ä»£ç æ‰§è¡Œ (`exec`, `eval`, `compile`)
- ç³»ç»Ÿè®¿é—® (`__import__`, `globals`, `locals`)
- ç”¨æˆ·è¾“å…¥ (`input`, `raw_input`)

## API ç«¯ç‚¹

ç­–ç•¥ç¼–è¾‘å™¨ä½¿ç”¨ä»¥ä¸‹APIç«¯ç‚¹ï¼š

- `GET /api/v1/strategies` - è·å–ç­–ç•¥åˆ—è¡¨
- `GET /api/v1/strategies/templates` - è·å–ç­–ç•¥æ¨¡æ¿
- `GET /api/v1/strategies/{id}` - è·å–ç‰¹å®šç­–ç•¥
- `POST /api/v1/strategies` - åˆ›å»ºæ–°ç­–ç•¥
- `PUT /api/v1/strategies/{id}` - æ›´æ–°ç­–ç•¥
- `DELETE /api/v1/strategies/{id}` - åˆ é™¤ç­–ç•¥
- `POST /api/v1/strategies/{id}/test` - æµ‹è¯•ç­–ç•¥
- `POST /api/v1/strategies/validate` - éªŒè¯ç­–ç•¥ä»£ç 

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

1. **"Missing required methods"**
   - ç¡®ä¿å®ç°äº†æ‰€æœ‰å¿…éœ€çš„æ–¹æ³•ï¼š`generate_signal`, `get_parameters`, `get_info`

2. **"Forbidden import"**
   - æ£€æŸ¥å¯¼å…¥çš„æ¨¡å—æ˜¯å¦åœ¨å…è®¸åˆ—è¡¨ä¸­

3. **"Syntax error"**
   - æ£€æŸ¥Pythonè¯­æ³•ï¼Œç¡®ä¿ç¼©è¿›æ­£ç¡®

4. **"Strategy test failed"**
   - æ£€æŸ¥ç­–ç•¥é€»è¾‘ï¼Œç¡®ä¿è¿”å›æ­£ç¡®çš„ä¿¡å·æ ¼å¼

### è°ƒè¯•æŠ€å·§

1. ä½¿ç”¨ **éªŒè¯ä»£ç ** åŠŸèƒ½æ£€æŸ¥è¯­æ³•é”™è¯¯
2. æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
3. ä»ç®€å•çš„ç­–ç•¥æ¨¡æ¿å¼€å§‹
4. é€æ­¥æ·»åŠ å¤æ‚é€»è¾‘

## ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] ç­–ç•¥å›æµ‹é›†æˆ
- [ ] ç­–ç•¥æ€§èƒ½åˆ†æ
- [ ] ç­–ç•¥ç‰ˆæœ¬ç®¡ç†
- [ ] ç­–ç•¥åˆ†äº«åŠŸèƒ½
- [ ] æ›´å¤šç­–ç•¥æ¨¡æ¿
- [ ] å¯è§†åŒ–ç­–ç•¥ç¼–è¾‘å™¨
- [ ] ç­–ç•¥å¸‚åœº

## æŠ€æœ¯å®ç°

### åç«¯ç»„ä»¶

- `backend/strategy_manager.py` - ç­–ç•¥ç®¡ç†æ ¸å¿ƒ
- `backend/simple_real_market_api.py` - APIç«¯ç‚¹
- ç­–ç•¥å­˜å‚¨åœ¨ `backend/strategies/` ç›®å½•

### å‰ç«¯ç»„ä»¶

- `frontend/src/components/StrategyEditor.tsx` - ç­–ç•¥ç¼–è¾‘å™¨ç»„ä»¶
- `frontend/src/pages/Settings.tsx` - è®¾ç½®é¡µé¢é›†æˆ
- `frontend/src/contexts/ApiContext.tsx` - APIå®¢æˆ·ç«¯

### æ•°æ®æµ

1. ç”¨æˆ·åœ¨å‰ç«¯ç¼–è¾‘ç­–ç•¥ä»£ç 
2. å‰ç«¯è°ƒç”¨éªŒè¯APIæ£€æŸ¥ä»£ç 
3. ç­–ç•¥ä¿å­˜åˆ°åç«¯æ–‡ä»¶ç³»ç»Ÿ
4. ç­–ç•¥å¯ä»¥åœ¨å›æµ‹ä¸­ä½¿ç”¨
5. ç­–ç•¥æ‰§è¡Œç»“æœè¿”å›ç»™å‰ç«¯

è¿™ä¸ªç­–ç•¥ç¼–è¾‘å™¨ä¸ºç”¨æˆ·æä¾›äº†å®Œæ•´çš„è‡ªå®šä¹‰äº¤æ˜“ç­–ç•¥å¼€å‘ç¯å¢ƒï¼Œæ”¯æŒä»ç®€å•çš„æ¨¡æ¿å¼€å§‹åˆ°å¤æ‚çš„è‡ªå®šä¹‰é€»è¾‘å®ç°ã€‚